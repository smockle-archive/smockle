//
// .FLEX
//

.flex {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
}

.flex-title {
  flex-basis: 100%;
  width: 100%;
}

.flex-content {
  flex-basis: 100%;
  width: 100%;
}

.flex-content p {
  text-align: left;
}

//
// .NO-FLEXWRAP
// HACK: Firefox doesn't support flex-wrap, so we must compensate.
//

.no-flexwrap .flex {
  display: block;
}

.no-flexwrap .flex-content {
  display: inline-block;
  vertical-align: top;
}

//
// MEDIA QUERIES
//

@media screen and (min-width: 50em) {
  .flex-content {
    flex-basis: 30.5%;
    width: 30.5%;
  }
  
  .flex-double {
    flex-basis: 65.3%;
    max-width: 65.3%;
    width: 65.3%;
  }
}

//
// MEDIA QUERIES .NO-FLEXWRAP
// HACK: Firefox doesn't support flex-wrap, so we must compensate.
//

@media screen and (min-width: 50em) {
  /* HACK: Firefox doesn't support flex-wrap, so we must compensate. */
  .no-flexwrap .flex-content:nth-of-type(3n+1) {
    margin-right: 3.3%;
  }
  
  /* HACK: Firefox doesn't support flex-wrap, so we must compensate. */
  .no-flexwrap .flex-content:nth-of-type(3n+2) {
    margin-right: 3.3%;
  }
  
  /* HACK: Firefox doesn't support flex-wrap, so we must compensate. */
  .no-flexwrap .flex-double:nth-of-type(3n+2) {
    margin-right: 0%;
  }
}

//
// COLORS
//

.section.section--black,
.section:nth-of-type(3n+1) {
  background-color: $black;
  color: white;

  .flex-title {
      color: $gray;
  }
  
  a:hover {
    color: $text;
  }
}

.section.section--gray,
.section:nth-of-type(3n+2) {
  background-color: $beige;
  color: $black; 
}

.section.section--white,
.section:nth-of-type(3n+3) {
  background-color: white;
  color: $text;
  
  .flex-title {
    color: $text;
  }

  .flex-subtitle {
    color: $gray;
  }
}